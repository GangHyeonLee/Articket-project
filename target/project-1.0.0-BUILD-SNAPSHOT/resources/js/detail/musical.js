
$(document).ready(function(){
       	var ticketingData = '{\
"boxofs": {\
"boxof": [\
  {\
    "area": "서울",\
    "prfdtcnt": 41,\
    "prfpd": "2022.09.28~2022.12.04",\
    "cate": "뮤지컬",\
    "prfplcnm": "대학로아트원씨어터 2관",\
    "prfnm": "인간의 법정",\
    "rnum": 1,\
    "seatcnt": 250,\
    "poster": "/upload/pfmPoster/PF_PF197001_220826_092858.gif",\
    "mt20id": "PF197001"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 70,\
    "prfpd": "2022.08.30~2022.11.06",\
    "cate": "뮤지컬",\
    "prfplcnm": "샤롯데씨어터 샤롯데씨어터",\
    "prfnm": "미세스 다웃파이어",\
    "rnum": 2,\
    "seatcnt": 1230,\
    "poster": "/upload/pfmPoster/PF_PF194176_220706_115141.gif",\
    "mt20id": "PF194176"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 50,\
    "prfpd": "2022.07.20~2022.10.23",\
    "cate": "뮤지컬",\
    "prfplcnm": "충무아트센터 대공연장",\
    "prfnm": "킹키부츠",\
    "rnum": 3,\
    "seatcnt": 1255,\
    "poster": "/upload/pfmPoster/PF_PF191916_220530_111000.gif",\
    "mt20id": "PF191916"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 54,\
    "prfpd": "2022.09.06~2022.11.13",\
    "cate": "뮤지컬",\
    "prfplcnm": "대학로 드림아트센터 2관 더블케이씨어터",\
    "prfnm": "라흐 헤스트",\
    "rnum": 4,\
    "seatcnt": 210,\
    "poster": "/upload/pfmPoster/PF_PF195467_220729_151732.gif",\
    "mt20id": "PF195467"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 60,\
    "prfpd": "2022.08.30~2022.11.13",\
    "cate": "뮤지컬",\
    "prfplcnm": "블루스퀘어 신한카드홀(구. 인터파크홀)",\
    "prfnm": "엘리자벳 10주년 기념공연",\
    "rnum": 5,\
    "seatcnt": 1766,\
    "poster": "/upload/pfmPoster/PF_PF194642_220715_094015.gif",\
    "mt20id": "PF194642"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 42,\
    "prfpd": "2021.11.05~2023.01.29",\
    "cate": "뮤지컬",\
    "prfplcnm": "유니플렉스 2관(중극장)",\
    "prfnm": "빨래",\
    "rnum": 6,\
    "seatcnt": 300,\
    "poster": "/upload/pfmPoster/PF_PF180108_220513_095237.gif",\
    "mt20id": "PF180108"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 30,\
    "prfpd": "2022.08.12~2022.10.23",\
    "cate": "뮤지컬",\
    "prfplcnm": "광림아트센터 BBCH홀",\
    "prfnm": "서편제",\
    "rnum": 7,\
    "seatcnt": 1026,\
    "poster": "/upload/pfmPoster/PF_PF193042_220620_093340.gif",\
    "mt20id": "PF193042"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 27,\
    "prfpd": "2022.09.04~2022.11.07",\
    "cate": "뮤지컬",\
    "prfplcnm": "대학로자유극장 대학로자유극장",\
    "prfnm": "브론테",\
    "rnum": 8,\
    "seatcnt": 233,\
    "poster": "/upload/pfmPoster/PF_PF196199_220812_113816.gif",\
    "mt20id": "PF196199"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 47,\
    "prfpd": "2022.09.16~2022.11.13",\
    "cate": "뮤지컬",\
    "prfplcnm": "코엑스 아티움",\
    "prfnm": "사랑의 불시착",\
    "rnum": 9,\
    "seatcnt": 808,\
    "poster": "/upload/pfmPoster/PF_PF195029_220722_094530.gif",\
    "mt20id": "PF195029"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 22,\
    "prfpd": "2022.09.29~2022.12.26",\
    "cate": "뮤지컬",\
    "prfplcnm": "잠실종합운동장 FB빅탑시어터",\
    "prfnm": "푸에르자 부르타 웨이라 인 서울",\
    "rnum": 10,\
    "seatcnt": 500,\
    "poster": "/upload/pfmPoster/PF_PF197098_220829_095507.gif",\
    "mt20id": "PF197098"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 32,\
    "prfpd": "2022.07.12~2022.10.09",\
    "cate": "뮤지컬",\
    "prfplcnm": "충무아트센터 중극장 블랙",\
    "prfnm": "쓰릴 미",\
    "rnum": 11,\
    "seatcnt": 325,\
    "poster": "/upload/pfmPoster/PF_PF192774_220614_104731.gif",\
    "mt20id": "PF192774"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 26,\
    "prfpd": "2022.07.26~2022.10.16",\
    "cate": "뮤지컬",\
    "prfplcnm": "플러스씨어터(구. 컬처스페이스 엔유 구. 쁘티첼 씨어터) 플러스씨어터",\
    "prfnm": "시데레우스",\
    "rnum": 12,\
    "seatcnt": 359,\
    "poster": "/upload/pfmPoster/PF_PF192944_220616_144920.jpg",\
    "mt20id": "PF192944"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 25,\
    "prfpd": "2022.09.03~2022.10.30",\
    "cate": "뮤지컬",\
    "prfplcnm": "유니플렉스 1관(대극장)",\
    "prfnm": "안나, 차이코프스키",\
    "rnum": 13,\
    "seatcnt": 600,\
    "poster": "/upload/pfmPoster/PF_PF194484_220713_102819.gif",\
    "mt20id": "PF194484"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 48,\
    "prfpd": "2022.10.05~2023.02.26",\
    "cate": "뮤지컬",\
    "prfplcnm": "디큐브아트센터 디큐브씨어터",\
    "prfnm": "마틸다",\
    "rnum": 14,\
    "seatcnt": 1242,\
    "poster": "/upload/pfmPoster/PF_PF195242_220726_144628.gif",\
    "mt20id": "PF195242"\
  },\
  {\
    "area": "서울",\
    "prfdtcnt": 43,\
    "prfpd": "2022.08.30~2022.11.13",\
    "cate": "뮤지컬",\
    "prfplcnm": "대학로아트원씨어터 1관",\
    "prfnm": "배니싱",\
    "rnum": 15,\
    "seatcnt": 365,\
    "poster": "/upload/pfmPoster/PF_PF195632_220803_094249.gif",\
    "mt20id": "PF195632"\
  }\
]\
}\
}\
';
       	
       	var ticketingDataJson = JSON.parse(ticketingData);
      	
      	
      	function searchParam(key) {
      		  return new URLSearchParams(location.search).get(key);
      		};
      		
      		var i = searchParam('rnum');
		    	   var posterSrc = "https://kopis.or.kr" + ticketingDataJson.boxofs.boxof[i].poster;
					
					$("#rnum").text(ticketingDataJson.boxofs.boxof[i].rnum);
					$("#cate").text(ticketingDataJson.boxofs.boxof[i].cate);
					$("#prfnm").text(ticketingDataJson.boxofs.boxof[i].prfnm);
					$("#area").text(ticketingDataJson.boxofs.boxof[i].area);
					$("#prfplcnm").text(ticketingDataJson.boxofs.boxof[i].prfplcnm);
					$("#prfpd").text(ticketingDataJson.boxofs.boxof[i].prfpd);
					$("#poster").attr("src", posterSrc);
					$("#main_poster").attr("src", posterSrc);
		    	   
					$("#setUrl").attr("href", "musicalticketing?rnum=" + i);
    });

  




//------------------------------------------------------------- End API ------------------------------------------------------------------



/**
* Template Name: PhotoFolio - v1.0.0
* Template URL: https://bootstrapmade.com/photofolio-bootstrap-photography-website-template/
* Author: BootstrapMade.com
* License: https://bootstrapmade.com/license/
*/
document.addEventListener('DOMContentLoaded', () => {
  "use strict";

  /**
   * Preloader
   */
  const preloader = document.querySelector('#preloader');
  if (preloader) {
    window.addEventListener('load', () => {
      setTimeout(() => {
        preloader.classList.add('loaded');
      }, 1);
      setTimeout(() => {
        preloader.remove();
      }, 2);
    });
  }

  /**
   * Mobile nav toggle
   */
  const mobileNavShow = document.querySelector('.mobile-nav-show');
  const mobileNavHide = document.querySelector('.mobile-nav-hide');

  document.querySelectorAll('.mobile-nav-toggle').forEach(el => {
    el.addEventListener('click', function(event) {
      event.preventDefault();
      mobileNavToogle();
    })
  });

  function mobileNavToogle() {
    document.querySelector('body').classList.toggle('mobile-nav-active');
    mobileNavShow.classList.toggle('d-none');
    mobileNavHide.classList.toggle('d-none');
  }

  /**
   * Hide mobile nav on same-page/hash links
   */
  document.querySelectorAll('#navbar a').forEach(navbarlink => {

    if (!navbarlink.hash) return;

    let section = document.getElementById(navbarlink.hash);
    if (!section) return;

    navbarlink.addEventListener('click', () => {
      if (document.querySelector('.mobile-nav-active')) {
        mobileNavToogle();
      }
    });

  });

  /**
   * Toggle mobile nav dropdowns
   */
  const navDropdowns = document.querySelectorAll('.navbar .dropdown > a');

  navDropdowns.forEach(el => {
    el.addEventListener('click', function(event) {
      if (document.querySelector('.mobile-nav-active')) {
        event.preventDefault();
        this.classList.toggle('active');
        this.nextElementSibling.classList.toggle('dropdown-active');

        let dropDownIndicator = this.querySelector('.dropdown-indicator');
        dropDownIndicator.classList.toggle('bi-chevron-up');
        dropDownIndicator.classList.toggle('bi-chevron-down');
      }
    })
  });

  /**
   * Scroll top button
   */
  const scrollTop = document.querySelector('.scroll-top');
  if (scrollTop) {
    const togglescrollTop = function() {
      window.scrollY > 100 ? scrollTop.classList.add('active') : scrollTop.classList.remove('active');
    }
    window.addEventListener('load', togglescrollTop);
    document.addEventListener('scroll', togglescrollTop);
    scrollTop.addEventListener('click', window.scrollTo({
      top: 0,
      behavior: 'smooth'
    }));
  }

  /**
   * Initiate glightbox
   */
  const glightbox = GLightbox({
    selector: '.glightbox'
  });

  /**
   * Init swiper slider with 1 slide at once in desktop view
   */
  new Swiper('.slides-1', {
    speed: 600,
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false
    },
    slidesPerView: 'auto',
    pagination: {
      el: '.swiper-pagination',
      type: 'bullets',
      clickable: true
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    }
  });

  /**
   * Init swiper slider with 3 slides at once in desktop view
   */
  new Swiper('.slides-3', {
    speed: 600,
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false
    },
    slidesPerView: 'auto',
    pagination: {
      el: '.swiper-pagination',
      type: 'bullets',
      clickable: true
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    breakpoints: {
      320: {
        slidesPerView: 1,
        spaceBetween: 40
      },

      1200: {
        slidesPerView: 3,
      }
    }
  });

  /**
   * Animation on scroll function and init
   */
  function aos_init() {
    AOS.init({
      duration: 1000,
      easing: 'ease-in-out',
      once: true,
      mirror: false
    });
  }
  window.addEventListener('load', () => {
    aos_init();
  });

});


